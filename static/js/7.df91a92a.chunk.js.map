{"version":3,"sources":["components/icons.tsx","hooks/useUpdate.tsx","icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Nav.tsx","components/Layout.tsx","lib/createid.tsx","hooks/useTags.tsx","pages/Money/CategorySection.tsx","hooks/useRecords.tsx","../node_modules/dayjs/dayjs.min.js","pages/Statistics.tsx"],"names":["requireContext","require","keys","forEach","error","console","log","Svg","styled","svg","Icon","props","name","children","className","rest","cs","xlinkHref","useUpdate","fn","dependency","count","useRef","useEffect","current","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","Object","resolve","module","exports","symbol","add","NavWrapper","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","setTimeout","scrollTop","ref","data-x","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useTags","useState","tags","setTags","localTags","parse","length","addTag","tagName","prompt","getName","tag","filter","t","findTag","updateTag","findTagIndex","result","i","deleteTag","section","CategorySection","categoryMap","categoryList","category","value","c","onClick","onChange","useRecords","records","setRecords","addRecord","newRecord","output","alert","tagIds","record","createdAt","Date","toISOString","n","r","s","u","a","f","h","d","weekdays","split","months","$","String","Array","join","l","z","utcOffset","Math","abs","floor","m","date","year","month","clone","ceil","p","M","y","w","D","ms","Q","toLowerCase","replace","S","v","args","arguments","g","locale","$L","utc","$u","x","$x","$offset","this","prototype","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toUTCString","extend","$i","isDayjs","en","Ls","CategoryWrapper","Item","Header","h3","Statistics","setCategory","hash","key","day","push","array","entries","sort","b","tagId","reduce","span","index","concat","note"],"mappings":"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","file":"static/js/7.df91a92a.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport cs from 'classnames';\r\n\r\n// require('../icons/money.svg');\r\n// require('../icons/tag.svg');\r\n// require('../icons/chart.svg');\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('../icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\n\r\nconst Svg = styled.svg`\r\n  .icon {\r\n      width: 24px;\r\n      height: 24px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name, children, className, ...rest} = props;\r\n  return (\r\n\r\n    <Svg className={cs('icon', className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </Svg>\r\n\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn:()=>void, dependency:any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n\r\n//只要tags变化了，就...\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn()\r\n    }\r\n  }, [fn, dependency]); // 必须是不可变数据，每次修改必须是新的对象\r\n};\r\n\r\nexport {useUpdate};","var map = {\n\t\"./chart.svg\": 38,\n\t\"./left.svg\": 39,\n\t\"./money.svg\": 40,\n\t\"./right.svg\": 41,\n\t\"./tag.svg\": 42\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 37;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M274.432 569.856v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0zm-37.888-163.84L460.8 249.344l133.12 145.408a29.184 29.184 0 007.168 5.12h4.096l9.216 9.728h10.24a28.672 28.672 0 008.192-3.584l235.52-164.352a29.696 29.696 0 00-34.304-51.2l-217.6 153.6-128.512-153.6a29.696 29.696 0 00-38.4-4.096 28.672 28.672 0 00-7.68 3.072L204.8 358.4a29.696 29.696 0 0034.304 51.2zm201.728 48.64v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm326.144 0v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm-162.304 115.2v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0z\\\" /><path d=\\\"M930.304 841.216H137.728v-632.32a29.696 29.696 0 10-59.904 0V870.4a30.208 30.208 0 0029.696 29.696h822.784a29.696 29.696 0 000-59.904z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M723.413 895.701a44.203 44.203 0 01-27.392-9.6L272.213 545.195a43.733 43.733 0 010-68.267L694.23 138.027a43.733 43.733 0 0154.699 68.266L369.323 511.104l381.525 306.901a43.648 43.648 0 01-27.392 77.696z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M441.186 759.832H208.598c-3.389-10.102-5.067-24.432-5.067-42.974 0-7.584.42-15.169 1.259-22.753.839-7.585 2.113-14.75 3.807-21.495h232.588V561.358H208.597c-3.389-10.102-5.067-24.431-5.067-42.974 0-7.584.42-15.17 1.259-22.754.839-7.584 2.113-14.749 3.807-21.494h182.03L158.024 64.556c10.94-1.679 22.946-2.938 36.018-3.777 13.07-.839 25.497-1.275 37.309-1.275 11.78 0 23.996.436 36.647 1.275 12.636.84 24.012 2.098 34.13 3.776l207.317 381.777 203.54-381.777a428.914 428.914 0 0133.486-3.776 472.535 472.535 0 0134.776-1.275c11.78 0 23.576.436 35.389 1.275 11.796.84 22.753 2.098 32.871 3.776l-228.81 409.582h192.146c2.518 11.812 3.793 25.287 3.793 40.456 0 18.542-1.275 34.13-3.793 46.766H570.14V672.61h242.705c2.518 11.813 3.793 25.287 3.793 40.455 0 18.543-1.275 34.132-3.793 46.767H570.14v198.473c-10.119 1.678-20.657 2.953-31.614 3.791a430.317 430.317 0 01-32.871 1.259 430.37 430.37 0 01-32.873-1.259c-10.957-.838-21.494-2.113-31.596-3.791V759.832z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M743.053 511.857l-40.18-40.204-.171.17L321.126 90.218l-40.18 40.18L662.527 512l-381.58 381.607 40.18 40.175 421.926-421.926zm0 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M979.383 401.554L953.05 117.03c-7.314-21.943-24.137-38.766-46.08-46.08L622.446 44.617a73.874 73.874 0 00-74.606 17.554L62.171 547.84a72.85 72.85 0 000 103.131l310.126 310.126c28.526 28.526 74.606 28.526 103.132 0L960.366 476.16c20.48-19.749 27.794-48.274 19.017-74.606zM747.52 276.48a55.15 55.15 0 010-77.531c21.211-21.212 56.32-21.212 77.531 0 21.212 21.211 21.212 56.32 0 77.531-21.211 21.211-55.588 21.211-77.531 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Icon from './icons';\r\n\r\nconst NavWrapper = styled.nav`\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\r\n  > ul {\r\n    display: flex;\r\n    > li {\r\n      width: 33.3333%;\r\n      text-align: center;\r\n      >a {\r\n        display: flex;\r\n        flex-direction: column;   \r\n        padding: 4px;  \r\n        justify-content: center;\r\n        align-items: center;\r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected{\r\n         color: red;\r\n          .icon {\r\n            fill:red;\r\n         }\r\n        }\r\n        \r\n      }\r\n\r\n  }\r\n}\r\n`;\r\n\r\n\r\nfunction Nav() {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name=\"tag\"/>\r\n            便签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name=\"money\"/>\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n\r\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n            <Icon name=\"chart\"/>\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n}\r\n\r\nexport default Nav;","import styled from 'styled-components';\r\nimport Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n`;\r\nconst Main = styled.div`\r\n    flex-grow: 1;\r\n    overflow: auto;\r\n`;\r\ntype Props = {\r\n  className?: string\r\n  scrollTop?: number\r\n}\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n// const Layout = (props: any) => {\r\n\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n\r\n    setTimeout(()=> {\r\n      if (!mainRef.current) {return;}\r\n      console.log(props.scrollTop);\r\n      mainRef.current.scrollTop = props.scrollTop!;\r\n      // props.scrollTop不可能为空 ，因为scrollTop默认值是0\r\n      console.log(mainRef.current.scrollTop);\r\n    },0) // 0代表尽快，浏览器自己控制\r\n\r\n  }, [props.scrollTop]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className} data-x={'frank'}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\n\r\nLayout.defaultProps = {\r\n  // scrollTop默认值是0\r\n  scrollTop: 0\r\n};\r\n\r\nexport default Layout;\r\n\r\n","// let id = 0;\r\nlet id = parseInt(window.localStorage.getItem('idMax') || '0');\r\n// // 每次刷新id，就会从5开始\r\n// console.log('id为0');\r\n\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', JSON.stringify(id));\r\n  return id;\r\n};\r\nexport {createId};","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createid';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\r\n\r\n\r\n  // 第一次渲染时执行\r\n  useEffect(() => {\r\n\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n\r\n    if(localTags.length === 0) {\r\n      // 报错，因为const不能再赋值\r\n      localTags = [\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'}\r\n      ]\r\n    }\r\n    setTags(localTags)\r\n\r\n  }, []);\r\n\r\n  // 如果tags更新了，但不包括第一次更新，就\r\n  // useUpdate(() => {\r\n  //\r\n  //   window.localStorage.setItem('tags', JSON.stringify(tags));\r\n  // }, [tags]);\r\n  useUpdate(() => {\r\n\r\n    window.localStorage.setItem('tags', JSON.stringify(tags));\r\n  }, tags);\r\n\r\n\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n\r\n  const updateTag = (id: number, {name}: { name: string }) => {\r\n    setTags(tags.map(tag => tag.id === id ? {id, name: name} : tag));\r\n  };\r\n\r\n\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n\r\n  };\r\n  const addTag = () => {\r\n    console.log('hi');\r\n    const tagName = window.prompt('新标签的名称为');\r\n    if (tagName !== null && tagName !== '') {\r\n      setTags([...tags, {id: createId(), name: tagName}]);\r\n    }\r\n  };\r\n  const getName = (id: number) => {\r\n    const tag = tags.filter(t => t.id === id)[0];\r\n    return tag ? tag.name : '';\r\n  };\r\n\r\n  //读，写，添加，查找下标，更新，索引，删除\r\n  return {tags, addTag, getName, setTags, findTag, updateTag, findTagIndex, deleteTag};\r\n};\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul{\r\n    display:flex;\r\n    > li {\r\n      width: 50%; \r\n      text-align:center;\r\n      padding: 16px 0;\r\n      position:relative;\r\n      &.selected::after{\r\n        content: '';\r\n        display:block; \r\n        height: 3px;\r\n        background:#333;\r\n        position:absolute;\r\n        bottom:0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props = {\r\n  value: '-' | '+',\r\n  onChange: (value: '-' | '+') => void\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  type keys = keyof typeof categoryMap;\r\n  const [categoryList] = useState<(keys)[]>(['-', '+']);\r\n  // const [category, setCotegory] = useState('-');\r\n  const category = props.value;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li key={c}\r\n              className={category === c ? 'selected' : ''}\r\n              onClick={() => props.onChange(c)}\r\n          >{categoryMap[c]}</li>\r\n        )}\r\n\r\n      </ul>\r\n    </Wrapper>\r\n\r\n  );\r\n};\r\n\r\nexport {CategorySection};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[]\r\n  note: string\r\n  category: '+' | '-'\r\n  output: number\r\n  createdAt: string\r\n}\r\n\r\n\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\r\n\r\n\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  // 读\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n  // useUpdate(() => {\r\n  //   window.localStorage.setItem('records', JSON.stringify(records));\r\n  // }, [records]);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, records);\r\n\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.output <= 0) {\r\n      alert('请输入金额')\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert('请选择标签');\r\n      return false;\r\n    }\r\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n\r\n\r\n  return {records, addRecord};\r\n};","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",f=\"date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,c=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+$(r,2,\"0\")+\":\"+$(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},y=\"en\",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if(\"string\"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D=\"set\"+(this.$u?\"UTC\":\"\");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+\"Hours\",0);case r:return l(D+\"Minutes\",1);case n:return l(D+\"Seconds\",2);case e:return l(D+\"Milliseconds\",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d=\"set\"+(this.$u?\"UTC\":\"\"),$=(h={},h[i]=d+\"Date\",h[f]=d+\"Date\",h[u]=d+\"Month\",h[o]=d+\"FullYear\",h[r]=d+\"Hours\",h[n]=d+\"Minutes\",h[e]=d+\"Seconds\",h[t]=d+\"Milliseconds\",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,\"0\"),s:String(this.$s),ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[[\"$ms\",t],[\"$s\",e],[\"$m\",n],[\"$H\",r],[\"$W\",i],[\"$M\",u],[\"$y\",o],[\"$D\",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,S,v),t.$i=!0),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});\n","import React, {ReactNode, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport Layout from '../components/Layout';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport {RecordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background:white;\r\n`;\r\n\r\nconst Item = styled.div`\r\n  display:flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`;\r\n\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n\r\n  const hash: { [K: string]: RecordItem[] } = {}; //桶排序\r\n  // key类型：value类型\r\n\r\n  // {'2020-05-11': [item, item], '2020-05-10': [item, item], '2020-05-12': [item, item, item, item]}\r\n  // 对象无法保证key的顺序\r\n\r\n  // 计算时机不同\r\n  // 调用时selectedRecords()，才去算\r\n  // const selectedRecords = () =>records.filter(r => r.category === category);\r\n\r\n  // 只要执行了，就会去计算\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n\r\n  // 选中的Records\r\n  selectedRecords.forEach(r => {\r\n    // 用day做封装，把日期变成一个对象，会暴露format这个api\r\n    const key = day(r.createdAt).format('YYYY年MM月DD日');\r\n\r\n    // key不在hash里的时候，value初始化成一个数组\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n\r\n  // console.log(hash);\r\n\r\n  // // 把一个对象变成数组\r\n  // console.log(Object.entries(hash));\r\n\r\n  // 用一项的... 和另一项的...比\r\n  // a的第0项 和 b的第0项做对比\r\n\r\n  // 'a' < 'b'\r\n  // 'aa' < 'ab'\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] > b[0]) return -1;\r\n    if (a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n  // console.log(array);\r\n\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category}\r\n                         onChange={value => setCategory(value)}\r\n        />\r\n      </CategoryWrapper>\r\n\r\n      {array.map(([date, records]) => <div>\r\n        {/*{array.map(x => <div>*/}\r\n        <Header>\r\n          {date}\r\n          {/*{x[0]}*/}\r\n        </Header>\r\n        <div>\r\n\r\n          {records.map(r => {\r\n            //{x[1].map(r => {\r\n            return <Item key={r.createdAt}>\r\n\r\n              <div className=\"tags\">\r\n                {/*span是个对象*/}\r\n                {r.tagIds\r\n                  .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                  // [span,span,span]\r\n                  // [span,',',span,',',span]\r\n                  // []\r\n\r\n                  // 逗号也是ReactNode，字符串也是ReactNode\r\n                  .reduce((result, span, index, array) =>\r\n                    result.concat(index<array.length - 1 ? [span, ','] : [span]), [] as ReactNode[])\r\n                }\r\n              </div>\r\n              {r.note && <div className=\"note\">\r\n                {r.note}\r\n              </div>}\r\n              <div className=\"amount\">\r\n                ￥{r.output}\r\n              </div>\r\n            </Item>;\r\n          })}\r\n        </div>\r\n      </div>)}\r\n\r\n      {/*<div>*/}\r\n      {/*/!*{records.map(r => {*!/*/}\r\n\r\n      {/*/!*{selectedRecords().map(r => {*!/*/}\r\n      {/*{selectedRecords.map(r => {*/}\r\n      {/*  return <Item key={r.createdAt}>*/}\r\n\r\n      {/*    <div className=\"tags\">*/}\r\n      {/*      /!*一般是用id做key*!/*/}\r\n      {/*      {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)}*/}\r\n      {/*    </div>*/}\r\n      {/*    /!*{r.note ? <div className=\"note\">*!/*/}\r\n      {/*    /!*如果note存在，就展示...*!/*/}\r\n      {/*    {r.note && <div className=\"note\">*/}\r\n      {/*      {r.note}*/}\r\n      {/*    </div>}*/}\r\n      {/*    <div className=\"amount\">*/}\r\n      {/*      ￥{r.output}*/}\r\n      {/*    </div>*/}\r\n\r\n\r\n      {/*    /!*{r.tagIds.map(tagId => <span>{getName(tagId)}</span>)}*!/*/}\r\n      {/*    /!*<hr/>*!/*/}\r\n      {/*    /!*{r.output}*!/*/}\r\n      {/*    /!*<hr/>*!/*/}\r\n      {/*/!*{r.createdAt}*!/*/}\r\n      {/*/!*需要引入dayjs*!/*/}\r\n      {/*    {day(r.createdAt).format('YYYY年MM月DD日')}*/}\r\n\r\n      {/*  </Item>;*/}\r\n      {/*})}*/}\r\n      {/*</div>*/}\r\n    </Layout>\r\n\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n"],"sourceRoot":""}